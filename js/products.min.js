(function(){var searchTimer;function Product(name,imgUrl,description,categorie){this.name=name||"";this.imgUrl=imgUrl||"";this.description=description||"";this.categorie=categorie||""}
Product.prototype.getLowerCaseInfos=function(){return this.name.toLowerCase()+" "+this.description.toLowerCase()}
Product.prototype.getCategories=function(){return this.categories}
var productsArray=[new Product("Palette de manutention","https://scontent.fmad3-8.fna.fbcdn.net/v/t1.0-9/24991124_1506643079383086_5104554020876970522_n.jpg?oh=b21353862a01a119736b73e98d928d1a&oe=5AD00010","Ces palettes plastique des grande qualité présente de nombreux avantages en terme de fiablitité et rentablitité","Palettes"),new Product("Jumbo Box","https://scontent.fmad3-8.fna.fbcdn.net/v/t1.0-9/24899764_1506643009383093_8997592888558044414_n.jpg?oh=75cd1b09970b7a8ac1a9e16b6dd17562&oe=5AB9BE27","Jumbo Box","Jumbo Box",),]
var categoriesArray=[{name:"Paniers",checked:!0},{name:"Tables",checked:!0},{name:"Chaises",checked:!0},{name:"Pots",checked:!0},{name:"Jéricans, futs et réservoires",checked:!0},{name:"Bacs",checked:!0},{name:"Jumbo Box",checked:!0},{name:"Palettes",checked:!0},{name:"Caisses et cagettes",checked:!0}]
var app=new Vue({el:"#productsApp",data:{categories:categoriesArray,searchQuery:"",products:productsArray,product:new Product()},watch:{searchQuery:function(){var _this=this;if(_this.searchQuery.length>0){searchTimer=setTimeout(function(){clearTimeout(searchTimer);var tempArray=_this.products.filter(function(prod){return prod.getLowerCaseInfos().search(_this.searchQuery.toLowerCase())>-1});_this.products=tempArray},2000)}else{_this.products=productsArray}},},methods:{fetchByCategories:function(){var _this=this;var tempCategoriesArray=[];_this.categories.map(function(cat){if(cat.checked){tempCategoriesArray.push(cat.name)}});_this.products=productsArray.filter(function(p){return tempCategoriesArray.indexOf(p.categorie)>-1})},showDetails:function(elm){this.product=elm;$('#myModal').modal('show')}}})}())
